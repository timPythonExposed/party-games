{% extends "base.html" %}
{% block title %}{{ app_name }} â€“ Schattingen{% endblock %}
{% block content %}
<div class="schat-play-screen">
  <div class="ts-scoreboard" id="scoreboard"></div>

  <div class="bluf-round" id="roundInfo"></div>

  <!-- Phase: waiting for next question -->
  <div class="schat-phase" id="phaseNext">
    <p class="bluf-instruction">Klaar voor de volgende schattingsvraag?</p>
    <button class="btn btn-primary btn-lg" id="nextQuestionBtn">ğŸ”¢ Volgende vraag</button>
  </div>

  <!-- Phase: question shown, teams guess -->
  <div class="schat-phase" id="phaseGuess" hidden>
    <div class="bluf-statement-card">
      <p class="bluf-statement" id="questionText"></p>
    </div>
    <div class="schat-guess-section" id="guessSection"></div>
    <button class="btn btn-primary btn-lg" id="revealBtn" disabled>ğŸ” Onthul antwoord</button>
  </div>

  <!-- Phase: answer revealed -->
  <div class="schat-phase" id="phaseReveal" hidden>
    <div class="bluf-statement-card">
      <p class="bluf-statement" id="revealQuestionText"></p>
    </div>
    <div class="schat-answer-card" id="answerCard">
      <div class="schat-answer-value" id="answerValue"></div>
    </div>
    <div class="schat-guess-results" id="guessResults"></div>
    <button class="btn btn-primary btn-lg" id="nextAfterRevealBtn">Volgende vraag âœ</button>
  </div>

  <div class="btn-group btn-group--secondary">
    <a href="/schat/setup" class="btn btn-outline">Nieuw spel</a>
    <a href="/" class="btn btn-outline">Ander spel</a>
  </div>

  <div class="overlay" id="winnerOverlay" hidden>
    <div class="overlay-content">
      <div class="overlay-icon">ğŸ†</div>
      <h2 id="winnerText"></h2>
      <p>Gefeliciteerd!</p>
      <a href="/schat/setup" class="btn btn-primary">Nieuw spel</a>
      <a href="/" class="btn btn-secondary">Home</a>
    </div>
  </div>
  <div class="toast" id="toast" hidden></div>
</div>
{% endblock %}
{% block scripts %}
<script>document.addEventListener('DOMContentLoaded', () => { initSchatPlay(); });</script>
{% endblock %}
